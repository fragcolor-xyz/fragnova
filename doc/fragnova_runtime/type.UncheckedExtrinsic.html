<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The type (i.e “format”) that an unchecked extrinsic must have."><meta name="keywords" content="rust, rustlang, rust-lang, UncheckedExtrinsic"><title>UncheckedExtrinsic in fragnova_runtime - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../fragnova_runtime/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../fragnova_runtime/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">UncheckedExtrinsic</a></h2><div class="sidebar-elems"><h2><a href="index.html">In fragnova_runtime</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Type Definition <a href="index.html">fragnova_runtime</a>::<wbr><a class="type" href="#">UncheckedExtrinsic</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/fragnova_runtime/lib.rs.html#1507">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust typedef"><code>pub type UncheckedExtrinsic = UncheckedExtrinsic&lt;<a class="type" href="type.Address.html" title="type fragnova_runtime::Address">Address</a>, <a class="enum" href="enum.Call.html" title="enum fragnova_runtime::Call">Call</a>, <a class="type" href="type.Signature.html" title="type fragnova_runtime::Signature">Signature</a>, <a class="type" href="type.SignedExtra.html" title="type fragnova_runtime::SignedExtra">SignedExtra</a>&gt;;</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <strong>type</strong> (i.e “format”) that an <strong>unchecked extrinsic</strong> must have.</p>
<h2 id="footnote"><a href="#footnote">Footnote:</a></h2><h3 id="definition-of-unchecked-extrinsic"><a href="#definition-of-unchecked-extrinsic">Definition of “Unchecked Extrinsic”</a></h3>
<p>An Unchecked Extrinsic is a <strong>signed transaction</strong> that requires some validation check before they can be accepted in the transaction pool.
Any unchecked extrinsic contains the signature for the data being sent plus some extra data.</p>
<p>Source: https://docs.substrate.io/reference/transaction-format/</p>
<h3 id="how-signed-transactions-are-constructed"><a href="#how-signed-transactions-are-constructed">How (signed) transactions are constructed</a></h3>
<p>Substrate defines its transaction formats generically to allow developers to implement custom ways to define valid transactions.
In a runtime built with FRAME however (assuming transaction version 4), a transaction must be constructed by submitting the following encoded data:</p>
<p><code>&lt;signing account ID&gt; + &lt;signature&gt;🥖 + &lt;additional data&gt;🥕🥦</code></p>
<p>When submitting a signed transaction, the signature🥖is constructed by signing:</p>
<ul>
<li>The actual call, composed of:
<ul>
<li>The index of the pallet.</li>
<li>The index of the function call in the pallet.</li>
<li>The parameters required by the function call being targeted.</li>
</ul>
</li>
<li>Some extra information🥕, verified by the signed extensions of the transaction:
<ul>
<li>What’s the era for this transaction, i.e. how long should this call last in the transaction pool before it gets discarded?</li>
<li>The nonce, i.e. how many prior transactions have occurred from this account? This helps protect against replay attacks or accidental double-submissions.</li>
<li>The tip amount paid to the block producer to help incentive it to include this transaction in the block.</li>
</ul>
</li>
</ul>
<p>Then, some additional data that’s not part of what gets s̶i̶g̶n̶e̶d̶ sent (<strong>Note from Karan: I think they meant to say “sent” here, not “signed”</strong>),  which includes:</p>
<ul>
<li>The spec version and the transaction version. This ensures the transaction is being submitted to a compatible runtime.</li>
<li>The genesis hash. This ensures that the transaction is valid for the correct chain.</li>
<li>The block hash. This corresponds to the hash of the checkpoint block, which enables the signature to verify that the transaction doesn’t execute on the wrong fork, by checking against the block number provided by the era information.</li>
</ul>
<p><strong>The SCALE encoded data is then signed (i.e. (<code>call</code>, <code>extra</code>, <code>additional</code>)) and the signature🥖, extra data🥕 and call data🥦
is attached in the correct order and SCALE encoded, ready to send off to a node that will verify the signed payload.</strong>
If the payload to be signed is longer than 256 bytes, it is hashed just prior to being signed,
to ensure that the size of the signed data does not grow beyond a certain size.</p>
<p>This process can be broken down into the following steps:</p>
<ol>
<li>Construct the unsigned payload.</li>
<li>Create a signing payload.</li>
<li>Sign the payload.</li>
<li>Serialize the signed payload.</li>
<li>Submit the serialized transaction.</li>
</ol>
<p>An extrinsic is encoded into the following sequence of bytes just prior to being hex encoded:
<code>[ 1 ] + [ 2 ] + [ 3 ] + [ 4 ]</code></p>
<p>where:</p>
<p><code>[1]</code> contains the compact encoded length in bytes of all of the following data. (Learn how compact encoding works using SCALE here: https://docs.substrate.io/reference/scale-codec/)
<code>[2]</code> is a <code>u8</code> containing 1 byte to indicate whether the transaction is signed or unsigned (1 bit), and the encoded transaction version ID (7 bits).
<code>[3]</code>️ if a signature🥖️ is present, this field contains an account ID, an SR25519 signature🥖 and some extra data🥕. If unsigned this field contains 0 bytes.
<code>[4]</code> is the encoded call data🥦. This comprises of 1 byte denoting the pallet to call into, 1 byte denoting the call to make in that pallet, and then as many bytes as needed to encode the arguments expected by that call.</p>
<p>Source: https://docs.substrate.io/reference/transaction-format/</p>
<h2 id="example"><a href="#example">Example</a></h2>
<p>For example - notice that the encoded transaction for <code>protos.upload()</code> has the order of first “signer”, “signature“🥖, extra data🥕 (i.e “era”, “nonce” and “tip”) and finally the encoded call data🥦 (i.e “callIndex” and the arguments of <code>protos.upload()</code>): https://polkadot.js.org/apps/#/extrinsics/decode/0xf5018400d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d0150cc530a8f70343680c46687ade61e1e4cdc0dfc6d916c3143828dc588938c1934030b530d9117001260426798d380306ea3a9d04fe7b525a33053a1c31bee86750200000b000000000000003448656c6c6f2c20576f726c6421</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fragnova_runtime" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>